{% extends "base.html" %}
{% load static %}
{% block breadcrumb %}Cartões / {{ card.title }}{% endblock %}
{% block head %}
    <!-- Theme + HTMX CSRF helper (lê csrftoken do cookie) -->
    <script defer src="{% static 'ui/theme.js' %}"></script>
    <script defer src="https://unpkg.com/easymde/dist/easymde.min.js"></script>
{% endblock %}
{% block content %}
<div id="card-header">
  {% include 'cards/_card_header.html' %}
</div>
<div class="grid card-detail-grid" style="gap:var(--space-4);margin-top:var(--space-4)">
  <div id="tabs" style="grid-column:1/-1" hx-get="{% url 'cards:tabs_partial' card.id %}" hx-trigger="load"></div>
  <div id="card-about" style="grid-column:1/-1" hx-get="{% url 'cards:about_partial' card.id %}" hx-trigger="load"></div>
  <div id="social-links" style="grid-column:1/-1" hx-get="{% url 'cards:social_links_partial' card.id %}" hx-trigger="load"></div>
  <div id="addresses" hx-get="{% url 'cards:addresses_partial' card.id %}" hx-trigger="load"></div>
  <div id="links" hx-get="{% url 'cards:links_partial' card.id %}" hx-trigger="load"></div>
  <div id="gallery" style="grid-column:1/-1" hx-get="{% url 'cards:gallery_partial' card.id %}" hx-trigger="load"></div>
  {% if card.mode == 'delivery' %}
    <div id="menu" style="grid-column:1/-1" hx-get="{% url 'delivery:menu_partial' card.id %}" hx-trigger="load"></div>
  {% else %}
    <div id="services" style="grid-column:1/-1" hx-get="{% url 'scheduling:services_partial' card.id %}" hx-trigger="load"></div>
  {% endif %}

    <div id="search-profile" style="grid-column:1/-1" hx-get="{% url 'search_dashboard:profile_panel' card.id %}" hx-trigger="load"></div>

</div>
{% endblock %}
