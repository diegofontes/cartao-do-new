{% extends "base.html" %}
{% block breadcrumb %}Cartões / Editar{% endblock %}
{% block content %}
<form method="post" class="card" style="max-width:560px">
  {% csrf_token %}
  <h1 style="margin-top:0">Editar Card</h1>
  {% if card.deactivation_marked %}
    <div class="box" role="alert">Este card será arquivado após o fechamento do ciclo. Você pode reativar até lá.</div>
  {% endif %}
  <label class="field">
    <span>Título</span>
    <input name="title" class="input" required minlength="3" value="{{ card.title }}" {% if card.deactivation_marked %}disabled{% endif %} />
  </label>
  <label class="field">
    <span>Descrição</span>
    <textarea name="description" class="textarea" rows="3" {% if card.deactivation_marked %}disabled{% endif %}>{{ card.description }}</textarea>
  </label>
  <label class="field">
    <span>Número para notificações (opcional)</span>
    <input name="notification_phone" type="tel" class="input" placeholder="Ex.: +55 11 91234-5678" value="{{ card.notification_phone }}" {% if card.deactivation_marked %}disabled{% endif %} />
    <small class="help">Usado para receber notificações do cartão.</small>
  </label>
  <label class="field">
    <span>Modo</span>
    <select name="mode" class="input" {% if card.deactivation_marked %}disabled{% endif %}>
      <option value="appointment" {% if card.mode != 'delivery' %}selected{% endif %}>Agendamentos</option>
      <option value="delivery" {% if card.mode == 'delivery' %}selected{% endif %}>Delivery (Cardápio)</option>
    </select>
  </label>
  <div class="row" style="justify-content:flex-end;margin-top:var(--space-3)">
    <button class="btn primary" {% if card.deactivation_marked %}disabled title="Edição bloqueada enquanto marcado"{% endif %}>Salvar</button>
  </div>
</form>
{% endblock %}
